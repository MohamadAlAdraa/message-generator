<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quran Homework Generator</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 2rem;
      background-color: #f3f7fa;
      color: #333;
    }

    h1 {
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .section {
      background-color: #fff;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      margin-bottom: 2rem;
    }

    .section label {
      display: block;
      margin-top: 0.5rem;
      font-weight: 600;
    }

    .section input,
    .section select {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.25rem;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }

    .student-box {
      background-color: #ffffff;
      border-left: 5px solid #007bff;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 6px;
    }

    .add-btn, .generate-btn {
      display: inline-block;
      margin-top: 1rem;
      background-color: #007bff;
      color: white;
      padding: 0.6rem 1.2rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
    }

    .delete-btn {
      float: right;
      background: red;
      color: white;
      border: none;
      padding: 0.3rem 0.6rem;
      border-radius: 4px;
      cursor: pointer;
    }

    .output {
      white-space: pre-line;
      background-color: #eef;
      padding: 1rem;
      border-radius: 8px;
    }

    .inline {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>
  <h1>ğŸ“š Quran Homework Generator</h1>

  <div class="section">
    <label for="newStudent">Add New Student</label>
    <input type="text" id="newStudent" placeholder="e.g. Mohamad" />
    <button class="add-btn" onclick="addStudentToList()">Add Student</button>
  </div>

  <div class="section" id="studentsContainer"></div>

  <button class="generate-btn" onclick="generateMessage()">Generate Message</button>

  <div class="section output" id="output"></div>

  <script>
    const surahs = [
      "Ø§Ù„ÙØ§ØªØ­Ø©", "Ø§Ù„Ø¨Ù‚Ø±Ø©", "Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†", "Ø§Ù„Ù†Ø³Ø§Ø¡", "Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©", "Ø§Ù„Ø£Ù†Ø¹Ø§Ù…", "Ø§Ù„Ø£Ø¹Ø±Ø§Ù",
      "Ø§Ù„Ø£Ù†ÙØ§Ù„", "Ø§Ù„ØªÙˆØ¨Ø©", "ÙŠÙˆÙ†Ø³", "Ù‡ÙˆØ¯", "ÙŠÙˆØ³Ù", "Ø§Ù„Ø±Ø¹Ø¯", "Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…", "Ø§Ù„Ø­Ø¬Ø±",
      "Ø§Ù„Ù†Ø­Ù„", "Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡", "Ø§Ù„ÙƒÙ‡Ù", "Ù…Ø±ÙŠÙ…", "Ø·Ù‡", "Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡", "Ø§Ù„Ø­Ø¬", "Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†",
      "Ø§Ù„Ù†ÙˆØ±", "Ø§Ù„ÙØ±Ù‚Ø§Ù†", "Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡", "Ø§Ù„Ù†Ù…Ù„", "Ø§Ù„Ù‚ØµØµ", "Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª", "Ø§Ù„Ø±ÙˆÙ…", "Ù„Ù‚Ù…Ø§Ù†",
      "Ø§Ù„Ø³Ø¬Ø¯Ø©", "Ø§Ù„Ø£Ø­Ø²Ø§Ø¨", "Ø³Ø¨Ø£", "ÙØ§Ø·Ø±", "ÙŠØ³", "Ø§Ù„ØµØ§ÙØ§Øª", "Øµ", "Ø§Ù„Ø²Ù…Ø±", "ØºØ§ÙØ±",
      "ÙØµÙ„Øª", "Ø§Ù„Ø´ÙˆØ±Ù‰", "Ø§Ù„Ø²Ø®Ø±Ù", "Ø§Ù„Ø¯Ø®Ø§Ù†", "Ø§Ù„Ø¬Ø§Ø«ÙŠØ©", "Ø§Ù„Ø£Ø­Ù‚Ø§Ù", "Ù…Ø­Ù…Ø¯", "Ø§Ù„ÙØªØ­",
      "Ø§Ù„Ø­Ø¬Ø±Ø§Øª", "Ù‚", "Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª", "Ø§Ù„Ø·ÙˆØ±", "Ø§Ù„Ù†Ø¬Ù…", "Ø§Ù„Ù‚Ù…Ø±", "Ø§Ù„Ø±Ø­Ù…Ù†", "Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©",
      "Ø§Ù„Ø­Ø¯ÙŠØ¯", "Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©", "Ø§Ù„Ø­Ø´Ø±", "Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©", "Ø§Ù„ØµÙ", "Ø§Ù„Ø¬Ù…Ø¹Ø©", "Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†",
      "Ø§Ù„ØªØºØ§Ø¨Ù†", "Ø§Ù„Ø·Ù„Ø§Ù‚", "Ø§Ù„ØªØ­Ø±ÙŠÙ…", "Ø§Ù„Ù…Ù„Ùƒ", "Ø§Ù„Ù‚Ù„Ù…", "Ø§Ù„Ø­Ø§Ù‚Ø©", "Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬",
      "Ù†ÙˆØ­", "Ø§Ù„Ø¬Ù†", "Ø§Ù„Ù…Ø²Ù…Ù„", "Ø§Ù„Ù…Ø¯Ø«Ø±", "Ø§Ù„Ù‚ÙŠØ§Ù…Ø©", "Ø§Ù„Ø§Ù†Ø³Ø§Ù†", "Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª",
      "Ø§Ù„Ù†Ø¨Ø£", "Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª", "Ø¹Ø¨Ø³", "Ø§Ù„ØªÙƒÙˆÙŠØ±", "Ø§Ù„Ø¥Ù†ÙØ·Ø§Ø±", "Ø§Ù„Ù…Ø·ÙÙÙŠÙ†", "Ø§Ù„Ø¥Ù†Ø´Ù‚Ø§Ù‚",
      "Ø§Ù„Ø¨Ø±ÙˆØ¬", "Ø§Ù„Ø·Ø§Ø±Ù‚", "Ø§Ù„Ø£Ø¹Ù„Ù‰", "Ø§Ù„ØºØ§Ø´ÙŠØ©", "Ø§Ù„ÙØ¬Ø±", "Ø§Ù„Ø¨Ù„Ø¯", "Ø§Ù„Ø´Ù…Ø³",
      "Ø§Ù„Ù„ÙŠÙ„", "Ø§Ù„Ø¶Ø­Ù‰", "Ø§Ù„Ø´Ø±Ø­", "Ø§Ù„ØªÙŠÙ†", "Ø§Ù„Ø¹Ù„Ù‚", "Ø§Ù„Ù‚Ø¯Ø±", "Ø§Ù„Ø¨ÙŠÙ†Ø©", "Ø§Ù„Ø²Ù„Ø²Ù„Ø©",
      "Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª", "Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©", "Ø§Ù„ØªÙƒØ§Ø«Ø±", "Ø§Ù„Ø¹ØµØ±", "Ø§Ù„Ù‡Ù…Ø²Ø©", "Ø§Ù„ÙÙŠÙ„", "Ù‚Ø±ÙŠØ´",
      "Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†", "Ø§Ù„ÙƒÙˆØ«Ø±", "Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†", "Ø§Ù„Ù†ØµØ±", "Ø§Ù„Ù…Ø³Ø¯", "Ø§Ù„Ø¥Ø®Ù„Ø§Øµ", "Ø§Ù„ÙÙ„Ù‚", "Ø§Ù„Ù†Ø§Ø³"
    ];

    let students = JSON.parse(localStorage.getItem('quranStudents') || '[]');

    function save() {
      localStorage.setItem('quranStudents', JSON.stringify(students));
    }

    function renderStudents() {
      const container = document.getElementById('studentsContainer');
      container.innerHTML = '';
      students.forEach((student, i) => {
        const box = document.createElement('div');
        box.className = 'student-box';
        box.innerHTML = `<strong>${student.name}</strong>
          <button class="delete-btn" onclick="deleteStudent(${i})">Delete</button>
          <div id="assignments-${i}"></div>
          <button class="add-btn" onclick="addAssignment(${i})">â• Add Surah</button>`;
        container.appendChild(box);
        if (!student.assignments) student.assignments = [];
        student.assignments.forEach((a, j) => renderAssignment(i, a, j));
      });
      save();
    }

    function renderAssignment(studentIndex, a, j) {
      const div = document.createElement('div');
      div.innerHTML = `
        <label>Surah</label>
        <select>
          ${surahs.map(s => `<option value="${s}" ${a.surah === s ? 'selected' : ''}>${s}</option>`).join('')}
        </select>
        <div class="inline">
          <input type="checkbox" ${a.entire ? 'checked' : ''} onchange="this.parentElement.nextElementSibling.disabled = this.checked; this.parentElement.nextElementSibling.nextElementSibling.disabled = this.checked;"> 
          <label>Entire Surah</label>
        </div>
        <input type="number" placeholder="From Ayah" value="${a.from || ''}" ${a.entire ? 'disabled' : ''}>
        <input type="number" placeholder="To Ayah" value="${a.to || ''}" ${a.entire ? 'disabled' : ''}>
        <hr>
      `;
      document.getElementById(`assignments-${studentIndex}`).appendChild(div);
    }

    function addStudentToList() {
      const input = document.getElementById('newStudent');
      const name = input.value.trim();
      if (name) {
        students.push({ name, assignments: [] });
        input.value = '';
        renderStudents();
      }
    }

    function deleteStudent(index) {
      students.splice(index, 1);
      renderStudents();
    }

    function addAssignment(i) {
      students[i].assignments.push({ surah: surahs[0], from: '', to: '', entire: false });
      renderStudents();
    }

    function generateMessage() {
      let msg = 'ğŸ“š Quran Homework Assignment\n\n';
      let msgAr = 'ğŸ“š ÙˆØ§Ø¬Ø¨ ØªØ­ÙÙŠØ¸ Ø§Ù„Ù‚Ø±Ø¢Ù†\n\n';
      students.forEach(student => {
        msg += `ğŸ‘¦ Student: ${student.name}\n`;
        msgAr += `ğŸ‘¦ Ø§Ù„Ø·Ø§Ù„Ø¨: ${student.name}\n`;
        student.assignments.forEach(a => {
          msg += `ğŸ“– Surah: ${a.surah}\n`;
          msgAr += `ğŸ“– Ø§Ù„Ø³ÙˆØ±Ø©: ${a.surah}\n`;
          if (a.entire) {
            msg += `ğŸ”¢ Entire Surah\n\n`;
            msgAr += `ğŸ”¢ Ø§Ù„Ø³ÙˆØ±Ø© ÙƒØ§Ù…Ù„Ø©\n\n`;
          } else {
            msg += `ğŸ”¢ Ayahs: ${a.from} to ${a.to}\n\n`;
            msgAr += `ğŸ”¢ Ø§Ù„Ø¢ÙŠØ§Øª: ${a.from} Ø¥Ù„Ù‰ ${a.to}\n\n`;
          }
        });
      });
      msg += "ğŸ“Œ Please help your child review and memorize this section.\nJazakum Allahu Khairan!\n\n";
      msgAr += "ğŸ“Œ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…ØªØ§Ø¨Ø¹Ø© Ø·ÙÙ„Ùƒ ÙÙŠ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ù„Ø­ÙØ¸.\nØ¬Ø²Ø§ÙƒÙ… Ø§Ù„Ù„Ù‡ Ø®ÙŠØ±Ù‹Ø§!";
      document.getElementById('output').textContent = msg + '\n' + msgAr;
    }

    renderStudents();
  </script>
</body>
</html>
