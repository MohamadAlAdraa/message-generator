<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quran Homework Generator</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 2rem;
      background-color: #f3f7fa;
      color: #333;
    }

    h1 {
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .section {
      background-color: #fff;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      margin-bottom: 2rem;
    }

    .section label {
      display: block;
      margin-top: 0.5rem;
      font-weight: 600;
    }

    .section input,
    .section select {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.25rem;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }

    .student-box {
      background-color: #ffffff;
      border-left: 5px solid #007bff;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 6px;
    }

    .add-btn, .generate-btn {
      display: inline-block;
      margin-top: 1rem;
      background-color: #007bff;
      color: white;
      padding: 0.6rem 1.2rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
    }

    .delete-btn {
      float: right;
      background: red;
      color: white;
      border: none;
      padding: 0.3rem 0.6rem;
      border-radius: 4px;
      cursor: pointer;
    }

    .delete-assignment-btn {
      margin-top: 0.5rem;
      background-color: #dc3545;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 0.3rem 0.6rem;
      cursor: pointer;
    }

    .output {
      white-space: pre-line;
      background-color: #eef;
      padding: 1rem;
      border-radius: 8px;
    }

    .inline {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>
  <h1>ğŸ“š Quran Homework Generator</h1>

  <div class="section">
    <label for="newStudent">Add New Student</label>
    <input type="text" id="newStudent" placeholder="e.g. Mohamad" />
    <button class="add-btn" onclick="addStudentToList()">Add Student</button>
  </div>

  <div class="section" id="studentsContainer"></div>

  <button class="generate-btn" onclick="generateMessage()">Generate Message</button>

  <div class="section output" id="output"></div>

  <script>
    const surahs = [
      ["Al-Fatiha", "Ø§Ù„ÙØ§ØªØ­Ø©"], ["Al-Baqarah", "Ø§Ù„Ø¨Ù‚Ø±Ø©"], ["Aal-Imran", "Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†"], ["An-Nisa", "Ø§Ù„Ù†Ø³Ø§Ø¡"],
      ["Al-Ma'idah", "Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©"], ["Al-An'am", "Ø§Ù„Ø£Ù†Ø¹Ø§Ù…"], ["Al-A'raf", "Ø§Ù„Ø£Ø¹Ø±Ø§Ù"], ["Al-Anfal", "Ø§Ù„Ø£Ù†ÙØ§Ù„"],
      ["At-Tawbah", "Ø§Ù„ØªÙˆØ¨Ø©"], ["Yunus", "ÙŠÙˆÙ†Ø³"], ["Hud", "Ù‡ÙˆØ¯"], ["Yusuf", "ÙŠÙˆØ³Ù"], ["Ar-Ra'd", "Ø§Ù„Ø±Ø¹Ø¯"],
      ["Ibrahim", "Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…"], ["Al-Hijr", "Ø§Ù„Ø­Ø¬Ø±"], ["An-Nahl", "Ø§Ù„Ù†Ø­Ù„"], ["Al-Isra", "Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡"],
      ["Al-Kahf", "Ø§Ù„ÙƒÙ‡Ù"], ["Maryam", "Ù…Ø±ÙŠÙ…"], ["Ta-Ha", "Ø·Ù‡"], ["Al-Anbiya", "Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡"],
      ["Al-Hajj", "Ø§Ù„Ø­Ø¬"], ["Al-Mu'minun", "Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†"], ["An-Nur", "Ø§Ù„Ù†ÙˆØ±"], ["Al-Furqan", "Ø§Ù„ÙØ±Ù‚Ø§Ù†"],
      ["Ash-Shu'ara", "Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡"], ["An-Naml", "Ø§Ù„Ù†Ù…Ù„"], ["Al-Qasas", "Ø§Ù„Ù‚ØµØµ"], ["Al-Ankabut", "Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª"],
      ["Ar-Rum", "Ø§Ù„Ø±ÙˆÙ…"], ["Luqman", "Ù„Ù‚Ù…Ø§Ù†"], ["As-Sajda", "Ø§Ù„Ø³Ø¬Ø¯Ø©"], ["Al-Ahzab", "Ø§Ù„Ø£Ø­Ø²Ø§Ø¨"],
      ["Saba", "Ø³Ø¨Ø£"], ["Fatir", "ÙØ§Ø·Ø±"], ["Ya-Sin", "ÙŠØ³"], ["As-Saffat", "Ø§Ù„ØµØ§ÙØ§Øª"],
      ["Sad", "Øµ"], ["Az-Zumar", "Ø§Ù„Ø²Ù…Ø±"], ["Ghafir", "ØºØ§ÙØ±"], ["Fussilat", "ÙØµÙ„Øª"],
      ["Ash-Shura", "Ø§Ù„Ø´ÙˆØ±Ù‰"], ["Az-Zukhruf", "Ø§Ù„Ø²Ø®Ø±Ù"], ["Ad-Dukhan", "Ø§Ù„Ø¯Ø®Ø§Ù†"], ["Al-Jathiya", "Ø§Ù„Ø¬Ø§Ø«ÙŠØ©"],
      ["Al-Ahqaf", "Ø§Ù„Ø£Ø­Ù‚Ø§Ù"], ["Muhammad", "Ù…Ø­Ù…Ø¯"], ["Al-Fath", "Ø§Ù„ÙØªØ­"], ["Al-Hujurat", "Ø§Ù„Ø­Ø¬Ø±Ø§Øª"],
      ["Qaf", "Ù‚"], ["Adh-Dhariyat", "Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª"], ["At-Tur", "Ø§Ù„Ø·ÙˆØ±"], ["An-Najm", "Ø§Ù„Ù†Ø¬Ù…"],
      ["Al-Qamar", "Ø§Ù„Ù‚Ù…Ø±"], ["Ar-Rahman", "Ø§Ù„Ø±Ø­Ù…Ù†"], ["Al-Waqi'a", "Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©"], ["Al-Hadid", "Ø§Ù„Ø­Ø¯ÙŠØ¯"],
      ["Al-Mujadila", "Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©"], ["Al-Hashr", "Ø§Ù„Ø­Ø´Ø±"], ["Al-Mumtahina", "Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©"], ["As-Saff", "Ø§Ù„ØµÙ"],
      ["Al-Jumua", "Ø§Ù„Ø¬Ù…Ø¹Ø©"], ["Al-Munafiqun", "Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†"], ["At-Taghabun", "Ø§Ù„ØªØºØ§Ø¨Ù†"], ["At-Talaq", "Ø§Ù„Ø·Ù„Ø§Ù‚"],
      ["At-Tahrim", "Ø§Ù„ØªØ­Ø±ÙŠÙ…"], ["Al-Mulk", "Ø§Ù„Ù…Ù„Ùƒ"], ["Al-Qalam", "Ø§Ù„Ù‚Ù„Ù…"], ["Al-Haqqa", "Ø§Ù„Ø­Ø§Ù‚Ø©"],
      ["Al-Ma'arij", "Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬"], ["Nuh", "Ù†ÙˆØ­"], ["Al-Jinn", "Ø§Ù„Ø¬Ù†"], ["Al-Muzzammil", "Ø§Ù„Ù…Ø²Ù…Ù„"],
      ["Al-Muddaththir", "Ø§Ù„Ù…Ø¯Ø«Ø±"], ["Al-Qiyama", "Ø§Ù„Ù‚ÙŠØ§Ù…Ø©"], ["Al-Insan", "Ø§Ù„Ø§Ù†Ø³Ø§Ù†"], ["Al-Mursalat", "Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª"],
      ["An-Naba", "Ø§Ù„Ù†Ø¨Ø£"], ["An-Nazi'at", "Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª"], ["Abasa", "Ø¹Ø¨Ø³"], ["At-Takwir", "Ø§Ù„ØªÙƒÙˆÙŠØ±"],
      ["Al-Infitar", "Ø§Ù„Ø¥Ù†ÙØ·Ø§Ø±"], ["Al-Mutaffifin", "Ø§Ù„Ù…Ø·ÙÙÙŠÙ†"], ["Al-Inshiqaq", "Ø§Ù„Ø¥Ù†Ø´Ù‚Ø§Ù‚"], ["Al-Buruj", "Ø§Ù„Ø¨Ø±ÙˆØ¬"],
      ["At-Tariq", "Ø§Ù„Ø·Ø§Ø±Ù‚"], ["Al-Ala", "Ø§Ù„Ø£Ø¹Ù„Ù‰"], ["Al-Ghashiyah", "Ø§Ù„ØºØ§Ø´ÙŠØ©"], ["Al-Fajr", "Ø§Ù„ÙØ¬Ø±"],
      ["Al-Balad", "Ø§Ù„Ø¨Ù„Ø¯"], ["Ash-Shams", "Ø§Ù„Ø´Ù…Ø³"], ["Al-Lail", "Ø§Ù„Ù„ÙŠÙ„"], ["Ad-Duhaa", "Ø§Ù„Ø¶Ø­Ù‰"],
      ["Ash-Sharh", "Ø§Ù„Ø´Ø±Ø­"], ["At-Tin", "Ø§Ù„ØªÙŠÙ†"], ["Al-Alaq", "Ø§Ù„Ø¹Ù„Ù‚"], ["Al-Qadr", "Ø§Ù„Ù‚Ø¯Ø±"],
      ["Al-Bayyina", "Ø§Ù„Ø¨ÙŠÙ†Ø©"], ["Az-Zalzalah", "Ø§Ù„Ø²Ù„Ø²Ù„Ø©"], ["Al-Adiyat", "Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª"], ["Al-Qari'a", "Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©"],
      ["At-Takathur", "Ø§Ù„ØªÙƒØ§Ø«Ø±"], ["Al-Asr", "Ø§Ù„Ø¹ØµØ±"], ["Al-Humazah", "Ø§Ù„Ù‡Ù…Ø²Ø©"], ["Al-Fil", "Ø§Ù„ÙÙŠÙ„"],
      ["Quraish", "Ù‚Ø±ÙŠØ´"], ["Al-Ma'un", "Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†"], ["Al-Kawthar", "Ø§Ù„ÙƒÙˆØ«Ø±"], ["Al-Kafirun", "Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†"],
      ["An-Nasr", "Ø§Ù„Ù†ØµØ±"], ["Al-Masad", "Ø§Ù„Ù…Ø³Ø¯"], ["Al-Ikhlas", "Ø§Ù„Ø¥Ø®Ù„Ø§Øµ"], ["Al-Falaq", "Ø§Ù„ÙÙ„Ù‚"], ["An-Nas", "Ø§Ù„Ù†Ø§Ø³"]
    ];

    let students = JSON.parse(localStorage.getItem('quranStudents') || '[]');

    function save() {
      localStorage.setItem('quranStudents', JSON.stringify(students));
    }

    function renderStudents() {
      const container = document.getElementById('studentsContainer');
      container.innerHTML = '';
      students.forEach((student, i) => {
        const box = document.createElement('div');
        box.className = 'student-box';
        box.innerHTML = `<strong>${student.name}</strong>
          <button class="delete-btn" onclick="deleteStudent(${i})">Delete</button>
          <div id="assignments-${i}"></div>
          <button class="add-btn" onclick="addAssignment(${i})">â• Add Surah</button>`;
        container.appendChild(box);
        if (!student.assignments) student.assignments = [];
        student.assignments.forEach((a, j) => renderAssignment(i, a, j));
      });
      save();
    }

    function renderAssignment(studentIndex, assignment, assignmentIndex) {
      const wrapper = document.createElement('div');
      const options = surahs.map(([en, ar]) => `<option value="${en}" ${assignment.surah === en ? 'selected' : ''}>${ar} (${en})</option>`).join('');
      wrapper.innerHTML = `
        <label>Surah</label>
        <select onchange="students[${studentIndex}].assignments[${assignmentIndex}].surah = this.value; save()">${options}</select>
        <div class="inline">
          <input type="checkbox" ${assignment.entire ? 'checked' : ''} onchange="
            students[${studentIndex}].assignments[${assignmentIndex}].entire = this.checked;
            this.parentElement.parentElement.querySelector('.from-ayah').disabled = this.checked;
            this.parentElement.parentElement.querySelector('.to-ayah').disabled = this.checked;
            save();
          ">
          <label>Entire Surah</label>
        </div>
        <input type="number" class="from-ayah" placeholder="From Ayah" value="${assignment.from || ''}" ${assignment.entire ? 'disabled' : ''} onchange="students[${studentIndex}].assignments[${assignmentIndex}].from = this.value; save()">
        <input type="number" class="to-ayah" placeholder="To Ayah" value="${assignment.to || ''}" ${assignment.entire ? 'disabled' : ''} onchange="students[${studentIndex}].assignments[${assignmentIndex}].to = this.value; save()">
        <button class="delete-assignment-btn" onclick="
          if (confirm('Are you sure you want to delete this surah assignment?')) {
            students[${studentIndex}].assignments.splice(${assignmentIndex}, 1);
            renderStudents();
          }
        ">ğŸ—‘ï¸ Remove Surah</button>
        <hr>
      `;
      document.getElementById(`assignments-${studentIndex}`).appendChild(wrapper);
    }

    function addStudentToList() {
      const input = document.getElementById('newStudent');
      const name = input.value.trim();
      if (name) {
        students.push({ name, assignments: [] });
        input.value = '';
        renderStudents();
      }
    }

    function deleteStudent(index) {
      if (confirm('Are you sure you want to delete this student?')) {
        students.splice(index, 1);
        renderStudents();
      }
    }

    function addAssignment(i) {
      students[i].assignments.push({ surah: surahs[0][0], from: '', to: '', entire: false });
      renderStudents();
    }

    function generateMessage() {
      let msg = 'ğŸ“š Quran Homework Assignment\n\n';
      let msgAr = 'ğŸ“š ÙˆØ§Ø¬Ø¨ ØªØ­ÙÙŠØ¸ Ø§Ù„Ù‚Ø±Ø¢Ù†\n\n';
      students.forEach(student => {
        msg += `ğŸ‘¦ Student: ${student.name}\n`;
        msgAr += `ğŸ‘¦ Ø§Ù„Ø·Ø§Ù„Ø¨: ${student.name}\n`;
        student.assignments.forEach(a => {
          const surahPair = surahs.find(([en]) => en === a.surah);
          const ar = surahPair ? surahPair[1] : a.surah;
          msg += `ğŸ“– Surah: ${a.surah}\n`;
          msgAr += `ğŸ“– Ø§Ù„Ø³ÙˆØ±Ø©: ${ar}\n`;
          if (a.entire) {
            msg += `ğŸ”¢ Entire Surah\n\n`;
            msgAr += `ğŸ”¢ Ø§Ù„Ø³ÙˆØ±Ø© ÙƒØ§Ù…Ù„Ø©\n\n`;
          } else {
            msg += `ğŸ”¢ Ayahs: ${a.from} to ${a.to}\n\n`;
            msgAr += `ğŸ”¢ Ø§Ù„Ø¢ÙŠØ§Øª: ${a.from} Ø¥Ù„Ù‰ ${a.to}\n\n`;
          }
        });
      });
      msg += "ğŸ“Œ Please help your child review and memorize this section.\nJazakum Allahu Khairan!\n\n";
      msgAr += "ğŸ“Œ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…ØªØ§Ø¨Ø¹Ø© Ø·ÙÙ„Ùƒ ÙÙŠ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ù„Ø­ÙØ¸.\nØ¬Ø²Ø§ÙƒÙ… Ø§Ù„Ù„Ù‡ Ø®ÙŠØ±Ù‹Ø§!";
      document.getElementById('output').textContent = msg + '\n' + msgAr;
    }

    renderStudents();
  </script>
</body>
</html>
