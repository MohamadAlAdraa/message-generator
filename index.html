<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quran Homework Generator</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 2rem;
      background-color: #f3f7fa;
      color: #333;
    }

    h1 {
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .section {
      background-color: #fff;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      margin-bottom: 2rem;
    }

    .section label {
      display: block;
      margin-top: 0.5rem;
      font-weight: 600;
    }

    .section input,
    .section select {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.25rem;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }

    .student-box {
      background-color: #ffffff;
      border-left: 5px solid #007bff;
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 6px;
    }

    .add-btn, .generate-btn {
      display: inline-block;
      margin-top: 1rem;
      background-color: #007bff;
      color: white;
      padding: 0.6rem 1.2rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
    }

    .output {
      white-space: pre-line;
      background-color: #eef;
      padding: 1rem;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <h1>📚 Quran Homework Generator</h1>

  <div class="section">
    <label for="newStudent">Add New Student</label>
    <input type="text" id="newStudent" placeholder="e.g. Mohamad" />
    <button class="add-btn" onclick="addStudentToList()">Add Student</button>
  </div>

  <div class="section" id="studentsContainer"></div>

  <button class="generate-btn" onclick="generateMessage()">Generate Message</button>

  <div class="section output" id="output"></div>

  <script>
    const surahs = [
      { en: "Al-Fatiha", ar: "الفاتحة" }, { en: "Al-Baqarah", ar: "البقرة" },
      { en: "Aal-Imran", ar: "آل عمران" }, { en: "An-Nisa", ar: "النساء" },
      { en: "Al-Ma'idah", ar: "المائدة" }, { en: "Al-An'am", ar: "الأنعام" },
      { en: "Al-A'raf", ar: "الأعراف" }, { en: "Al-Anfal", ar: "الأنفال" },
      { en: "At-Tawbah", ar: "التوبة" }, { en: "Yunus", ar: "يونس" },
      { en: "Hud", ar: "هود" }, { en: "Yusuf", ar: "يوسف" },
      { en: "Ar-Ra'd", ar: "الرعد" }, { en: "Ibrahim", ar: "إبراهيم" },
      { en: "Al-Hijr", ar: "الحجر" }, { en: "An-Nahl", ar: "النحل" },
      { en: "Al-Isra", ar: "الإسراء" }, { en: "Al-Kahf", ar: "الكهف" },
      { en: "Maryam", ar: "مريم" }, { en: "Ta-Ha", ar: "طه" },
      { en: "An-Nas", ar: "الناس" }, { en: "Al-Ikhlas", ar: "الإخلاص" }
    ];

    const students = JSON.parse(localStorage.getItem('quranStudents') || '[]');
    const container = document.getElementById('studentsContainer');

    function renderStudents() {
      container.innerHTML = '';
      students.forEach((student, i) => {
        const box = document.createElement('div');
        box.className = 'student-box';
        box.innerHTML = `
          <strong>${student.name}</strong>
          <label>Surah</label>
          <select class="surah-select">
            ${surahs.map(s => `<option value="${s.en}">${s.ar} (${s.en})</option>`).join('')}
          </select>
          <label><input type="checkbox" class="entire-checkbox" /> Entire Surah</label>
          <label>From Ayah</label>
          <input type="number" class="from-ayah" placeholder="e.g. 1">
          <label>To Ayah</label>
          <input type="number" class="to-ayah" placeholder="e.g. 10">
        `;
        container.appendChild(box);
      });
    }

    function addStudentToList() {
      const input = document.getElementById('newStudent');
      const name = input.value.trim();
      if (name) {
        students.push({ name });
        localStorage.setItem('quranStudents', JSON.stringify(students));
        renderStudents();
        input.value = '';
      }
    }

    function generateMessage() {
      const studentBoxes = document.querySelectorAll('.student-box');
      let msg = '📚 Quran Homework Assignment\n\n';
      let msgAr = '📚 واجب تحفيظ القرآن\n\n';

      studentBoxes.forEach(box => {
        const name = box.querySelector('strong').textContent;
        const surah = box.querySelector('.surah-select').value;
        const surahAr = surahs.find(s => s.en === surah).ar;
        const entire = box.querySelector('.entire-checkbox').checked;
        const from = box.querySelector('.from-ayah').value;
        const to = box.querySelector('.to-ayah').value;

        msg += `👦 Student: ${name}\n📖 Surah: ${surah}\n`;
        msgAr += `👦 الطالب: ${name}\n📖 السورة: ${surahAr}\n`;

        if (entire) {
          msg += `🔢 Entire Surah\n\n`;
          msgAr += `🔢 السورة كاملة\n\n`;
        } else {
          msg += `🔢 Ayahs: ${from} to ${to}\n\n`;
          msgAr += `🔢 الآيات: ${from} إلى ${to}\n\n`;
        }
      });

      msg += "📌 Please help your child review and memorize this section.\nJazakum Allahu Khairan!\n\n";
      msgAr += "📌 الرجاء متابعة طفلك في المراجعة والحفظ.\nجزاكم الله خيرًا!";

      document.getElementById('output').textContent = msg + '\n' + msgAr;
    }

    renderStudents();
  </script>
</body>
</html>
